<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Solar Savings Calculator | Santaji Electricals</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:'Segoe UI', sans-serif;
  background:linear-gradient(135deg,#e6fff6,#f0fdf4);
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
}
.card{
  background:#fff;
  padding:28px;
  width:420px;
  border-radius:16px;
  box-shadow:0 15px 40px rgba(0,0,0,0.12);
}
.top{
  display:flex;
  justify-content:flex-end;
}
.lang button{
  border:none;
  background:#e5e7eb;
  padding:5px 8px;
  margin-left:5px;
  border-radius:6px;
  cursor:pointer;
  font-size:12px;
}
h2{
  text-align:center;
  margin:10px 0 5px;
  color:#065f46;
}
.sub{
  text-align:center;
  font-size:14px;
  color:#555;
  margin-bottom:18px;
}
input,button{
  width:100%;
  padding:12px;
  margin:8px 0;
  border-radius:10px;
  font-size:15px;
}
input{border:1px solid #ddd;}
button{
  border:none;
  background:#16a34a;
  color:#fff;
  cursor:pointer;
}
button:hover{background:#15803d;}
.result{
  margin-top:12px;
  background:#f0fdf4;
  padding:14px;
  border-radius:10px;
  display:none;
}
.result p{margin:5px 0;font-size:14px;}
.highlight{font-weight:bold;color:#065f46;}
.whatsapp{background:#25d366;margin-top:10px;}
.footer{text-align:center;font-size:13px;color:#555;margin-top:12px;}
.note{
  font-size:12px;
  color:#555;
  margin-top:6px;
  text-align:center;
}
</style>
</head>

<body>

<div class="card">
  <div class="top">
    <div class="lang">
      <button onclick="setLang('en')">EN</button>
      <button onclick="setLang('hi')">HI</button>
      <button onclick="setLang('mr')">MR</button>
    </div>
  </div>

  <h2 id="title">Solar Savings Calculator</h2>
  <div class="sub" id="subtitle">PM Surya Ghar Muft Bijli Yojana</div>

  <input id="name" type="text" placeholder="Your Name">
  <input id="phone" type="tel" placeholder="Mobile Number">
  <input id="bill" type="number" placeholder="Monthly Electricity Bill (‚Çπ)">

  <button onclick="calculate()">Calculate Savings</button>

  <div class="result" id="resultBox">
    <p>‚ö° <span id="t_units"></span>: <span class="highlight" id="units"></span></p>
    <p>üîã <span id="t_kw"></span>: <span class="highlight" id="kw"></span></p>
    <p>üí∏ <span id="t_cost"></span>: <span class="highlight" id="cost"></span></p>
    <p>üèõ <span id="t_subsidy"></span>: <span class="highlight" id="subsidy"></span></p>
    <p>‚úÖ <span id="t_net"></span>: <span class="highlight" id="net"></span></p>
    <p>üìÜ <span id="t_payback"></span>: <span class="highlight" id="payback"></span></p>
  </div>

  <div class="note">
    *Government subsidy applicable up to 3 kW only (maximum ‚Çπ78,000)
  </div>

  <button class="whatsapp" onclick="submitLead()">Get Free Site Survey</button>

  <div class="footer">
    Santaji Electricals<br>
    üìû 9011788999 | 9422168882
  </div>
</div>

<script>
const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbz8LkyFAlsxZSY4lQSEo0MWMKEXK92vLvWz2-X_bwWVnDAxs7ECSXMSPmX_xhz4MWS0cg/exec";

/* ---------- LANGUAGE ---------- */
const text = {
  en:{title:"Solar Savings Calculator",sub:"PM Surya Ghar Muft Bijli Yojana",
      units:"Monthly Units",kw:"Recommended Solar Size",
      cost:"System Cost",subsidy:"Government Subsidy",
      net:"Net Payable",payback:"Payback Period"},
  hi:{title:"‡§∏‡•ã‡§≤‡§∞ ‡§¨‡§ö‡§§ ‡§ï‡•à‡§≤‡§ï‡•Å‡§≤‡•á‡§ü‡§∞",sub:"‡§™‡•Ä‡§è‡§Æ ‡§∏‡•Ç‡§∞‡•ç‡§Ø ‡§ò‡§∞ ‡§Æ‡•Å‡§´‡•ç‡§§ ‡§¨‡§ø‡§ú‡§≤‡•Ä ‡§Ø‡•ã‡§ú‡§®‡§æ",
      units:"‡§Æ‡§æ‡§∏‡§ø‡§ï ‡§Ø‡•Ç‡§®‡§ø‡§ü",kw:"‡§Ö‡§®‡•Å‡§∂‡§Ç‡§∏‡§ø‡§§ ‡§∏‡•ã‡§≤‡§∞ ‡§ï‡•ç‡§∑‡§Æ‡§§‡§æ",
      cost:"‡§∏‡§ø‡§∏‡•ç‡§ü‡§Æ ‡§≤‡§æ‡§ó‡§§",subsidy:"‡§∏‡§∞‡§ï‡§æ‡§∞‡•Ä ‡§∏‡§¨‡•ç‡§∏‡§ø‡§°‡•Ä",
      net:"‡§Ü‡§™‡§ï‡•Ä ‡§Ö‡§Ç‡§§‡§ø‡§Æ ‡§≤‡§æ‡§ó‡§§",payback:"‡§µ‡§∏‡•Ç‡§≤‡•Ä ‡§Ö‡§µ‡§ß‡§ø"},
  mr:{title:"‡§∏‡•ã‡§≤‡§∞ ‡§¨‡§ö‡§§ ‡§ï‡•Ö‡§≤‡•ç‡§ï‡•ç‡§Ø‡•Å‡§≤‡•á‡§ü‡§∞",sub:"‡§™‡•Ä‡§è‡§Æ ‡§∏‡•Ç‡§∞‡•ç‡§Ø ‡§ò‡§∞ ‡§Æ‡•ã‡§´‡§§ ‡§µ‡•Ä‡§ú ‡§Ø‡•ã‡§ú‡§®‡§æ",
      units:"‡§Æ‡§æ‡§∏‡§ø‡§ï ‡§Ø‡•Å‡§®‡§ø‡§ü",kw:"‡§∂‡§ø‡§´‡§æ‡§∞‡§∏ ‡§ï‡•á‡§≤‡•á‡§≤‡•Ä ‡§∏‡•ã‡§≤‡§∞ ‡§ï‡•ç‡§∑‡§Æ‡§§‡§æ",
      cost:"‡§∏‡§ø‡§∏‡•ç‡§ü‡§Æ ‡§ñ‡§∞‡•ç‡§ö",subsidy:"‡§∂‡§æ‡§∏‡§ï‡•Ä‡§Ø ‡§Ö‡§®‡•Å‡§¶‡§æ‡§®",
      net:"‡§è‡§ï‡•Ç‡§£ ‡§¶‡•á‡§Ø ‡§∞‡§ï‡•ç‡§ï‡§Æ",payback:"‡§™‡§∞‡§§‡§æ‡§µ‡§æ ‡§ï‡§æ‡§≤‡§æ‡§µ‡§ß‡•Ä"}
};
function setLang(l){
  document.getElementById("title").innerText=text[l].title;
  document.getElementById("subtitle").innerText=text[l].sub;
  document.getElementById("t_units").innerText=text[l].units;
  document.getElementById("t_kw").innerText=text[l].kw;
  document.getElementById("t_cost").innerText=text[l].cost;
  document.getElementById("t_subsidy").innerText=text[l].subsidy;
  document.getElementById("t_net").innerText=text[l].net;
  document.getElementById("t_payback").innerText=text[l].payback;
}
setLang("en");

/* ---------- CALCULATOR ---------- */
let lastCalc = {};
function calculate(){
  let bill = Number(document.getElementById("bill").value);
  if(bill <= 0){ alert("Enter valid bill"); return; }

  let units = bill / 10;
  let kw = Math.ceil(units / 120);

  let systemCost = kw * 60000;
  let subsidy = kw <= 1 ? 30000 : kw <= 2 ? 60000 : 78000;
  let net = systemCost - subsidy;
  let payback = Math.round((net / (bill * 12)) * 12);

  lastCalc = {bill, units, kw, systemCost, subsidy, net, payback};

  document.getElementById("units").innerText = units.toFixed(0);
  document.getElementById("kw").innerText = kw + " kW";
  document.getElementById("cost").innerText = "‚Çπ " + systemCost.toLocaleString();
  document.getElementById("subsidy").innerText = "‚Çπ " + subsidy.toLocaleString();
  document.getElementById("net").innerText = "‚Çπ " + net.toLocaleString();
  document.getElementById("payback").innerText = payback + " months";

  document.getElementById("resultBox").style.display = "block";
}

/* ---------- LEAD CAPTURE (GET IMAGE METHOD) ---------- */
function submitLead(){
  if(!lastCalc.kw){ alert("Calculate savings first"); return; }

  let name = document.getElementById("name").value.trim();
  let phone = document.getElementById("phone").value.trim();
  if(name==="" || phone===""){ alert("Enter name & phone"); return; }

  let url =
    SCRIPT_URL +
    "?name=" + encodeURIComponent(name) +
    "&phone=" + encodeURIComponent(phone) +
    "&bill=" + lastCalc.bill +
    "&units=" + lastCalc.units +
    "&kw=" + lastCalc.kw +
    "&systemCost=" + lastCalc.systemCost +
    "&subsidy=" + lastCalc.subsidy +
    "&net=" + lastCalc.net +
    "&payback=" + lastCalc.payback;

  let img = new Image();
  img.src = url;

  alert("Thank you! Our team will contact you shortly.");

  window.open(
    "https://wa.me/919011788999?text=" +
    encodeURIComponent("I want to install rooftop solar under PM Surya Ghar Muft Bijli Yojana."),
    "_blank"
  );
}
</script>

</body>
</html>
